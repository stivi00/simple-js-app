let pokemonRepository = (function () {
        let t = [];
        function e(e) {
            'object' == typeof e
                ? t.push(e)
                : document.write(
                      `${e} is not an object. Only object is accepted <br><br><br>`
                  );
        }
        function n() {
            return t;
        }
        function o(t) {
            return fetch(t.detailsUrl)
                .then(function (t) {
                    return t.json();
                })
                .then(function (e) {
                    (t.imageUrl = e.sprites.other.dream_world.front_default),
                        (t.height = e.height),
                        (t.types = e.types);
                })
                .catch(function (t) {
                    console.error(t);
                });
        }
        function i(t) {
            o(t).then(function () {
                let e = document.getElementById('modal-container'),
                    n = document.getElementById('modal-title'),
                    o = document.getElementById('modal-height'),
                    i = document.getElementById('modal-image');
                (n.textContent = 'Name: ' + t.name),
                    (o.textContent = 'Height: ' + t.height),
                    i.setAttribute('src', t.imageUrl),
                    i.setAttribute('alt', t.name),
                    (e.style.display = 'block'),
                    console.log('test');
            });
        }
        return {
            add: e,
            getAll: n,
            addListItem: function t(e) {
                let n = document.getElementById('pokemonRow'),
                    a = document.createElement('div'),
                    l = document.createElement('h5'),
                    r = document.createElement('img');
                r.classList.add('pokemon-image'),
                    a.classList.add(
                        'card',
                        'pokemon-card',
                        'col-lg-3',
                        'col-md-4',
                        'col-sm-6',
                        'mb-4'
                    ),
                    o(e).then(function () {
                        r.src = e.imageUrl;
                    }),
                    (l.innerText = e.name),
                    a.setAttribute('data-target', '#modal-container'),
                    a.setAttribute('data-toggle', 'modal'),
                    a.appendChild(l),
                    a.appendChild(r),
                    n.appendChild(a),
                    a.addEventListener('click', function () {
                        i(e);
                    });
            },
            showDetails: i,
            loadList: function t() {
                return fetch('https://pokeapi.co/api/v2/pokemon/?limit=150')
                    .then(function (t) {
                        return t.json();
                    })
                    .then(function (t) {
                        t.results.forEach(function (t) {
                            e({ name: t.name, detailsUrl: t.url });
                        });
                    })
                    .catch(function (t) {
                        console.error(t);
                    });
            },
            loadDetails: o,
        };
    })(),
    allPokemons = pokemonRepository.getAll();
pokemonRepository.loadList().then(function () {
    allPokemons.forEach((t) => {
        pokemonRepository.addListItem(t);
    });
});
